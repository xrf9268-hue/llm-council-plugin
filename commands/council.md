---
description: Summon the LLM Council for multi-model deliberation on complex technical questions.
argument-hint: "<question>"
model: claude-sonnet-4-5-20250929
---

# Council

Summon the LLM Council for multi-model deliberation on complex technical questions.

## Usage

```
/council "Your technical question here"
```

## Examples

```
/council "How should I optimize React component re-renders?"
/council "What's the best approach for implementing rate limiting in a Node.js API?"
/council "Review this algorithm for potential edge cases"
```

## What Happens

1. **Opinion Collection**: Your query is sent to OpenAI Codex, Google Gemini, and Claude in parallel
2. **Peer Review**: Each model anonymously reviews the others' responses
3. **Synthesis**: The Chairman (Claude Opus) synthesizes all inputs into a final verdict

## Implementation Instructions

When this command is invoked:

1. **Reset working directory for this run**: Use the **Bash tool** to ensure the `.council/` directory only contains files from the current execution:
   ```bash
   # Resolve path to council_utils.sh using environment variables
   # This works for both local development and marketplace installations
   if [[ -n "${COUNCIL_PLUGIN_ROOT:-}" ]]; then
       UTILS_PATH="${COUNCIL_PLUGIN_ROOT}/skills/council-orchestrator/scripts/council_utils.sh"
   elif [[ -n "${CLAUDE_PLUGIN_ROOT:-}" ]]; then
       UTILS_PATH="${CLAUDE_PLUGIN_ROOT}/skills/council-orchestrator/scripts/council_utils.sh"
   elif [[ -n "${CLAUDE_PROJECT_DIR:-}" ]]; then
       UTILS_PATH="${CLAUDE_PROJECT_DIR}/skills/council-orchestrator/scripts/council_utils.sh"
   else
       # Try standard installation locations as fallback
       for candidate in \
           "$HOME/.claude/plugins/cache/llm-council-plugin/skills/council-orchestrator/scripts/council_utils.sh" \
           "$HOME/.claude/plugins/llm-council-plugin/skills/council-orchestrator/scripts/council_utils.sh" \
           "$HOME/.config/claude/plugins/llm-council-plugin/skills/council-orchestrator/scripts/council_utils.sh"; do
           if [[ -f "$candidate" ]]; then
               UTILS_PATH="$candidate"
               break
           fi
       done
   fi

   # Verify we found the utility script
   if [[ -z "${UTILS_PATH:-}" ]] || [[ ! -f "$UTILS_PATH" ]]; then
       echo "‚ùå Error: Cannot locate council_utils.sh"
       echo ""
       echo "Diagnostic Information:"
       echo "  COUNCIL_PLUGIN_ROOT: ${COUNCIL_PLUGIN_ROOT:-[not set]}"
       echo "  CLAUDE_PLUGIN_ROOT: ${CLAUDE_PLUGIN_ROOT:-[not set]}"
       echo "  CLAUDE_PROJECT_DIR: ${CLAUDE_PROJECT_DIR:-[not set]}"
       echo ""
       echo "This usually means the plugin environment variables are not properly initialized."
       echo ""
       echo "üîß Quick Fix: Run this command to set the plugin path manually:"
       echo "   export COUNCIL_PLUGIN_ROOT=\"\$HOME/.claude/plugins/cache/llm-council-plugin\""
       echo ""
       echo "If the plugin is installed elsewhere, adjust the path accordingly."
       echo "Then try running /council again."
       exit 1
   fi

   source "$UTILS_PATH"
   council_cleanup || true   # ignore if directory does not exist
   council_init               # recreate .council/ for this run
   ```

2. **Parse Input**: Treat `$ARGUMENTS` as the user's complete technical question (everything typed after `/council`).

3. **Activate Skill**: Use the **Skill tool** to activate the `council-orchestrator` skill.

4. **Pass Parameters**: Forward `$ARGUMENTS` as the `{query}` parameter to the skill.

5. **Monitor Progress**: Display progress updates to the user as the council deliberates:
   - "üîç Consulting council members..."
   - "‚öñÔ∏è Running peer review phase..."
   - "üìä Chairman synthesizing verdict..."

6. **Return Results**: Present the final Markdown report generated by the council to the user, and clearly state:
   - The report has been fully displayed in the conversation.
   - The full report is also saved to `.council/final_report.md` in the project root.
   - A future `/council` run will overwrite the contents of `.council/` for the new session.

**Note**: This command uses Sonnet 4.5 because council orchestration involves complex multi-step reasoning: coordinating parallel API calls, parsing responses, managing peer review logic, and synthesizing diverse opinions into a coherent final report.
